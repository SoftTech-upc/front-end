<mat-card class="m-4 p-4">
  <mat-card-title *ngIf="edit">Edit tour</mat-card-title>
  <mat-card-title *ngIf="!edit">Add tour</mat-card-title>

  <form (submit)="onSubmit()" #tourForm='ngForm' class="flex flex-col mt-4">

    <mat-form-field>
      <mat-label>Name</mat-label>
      <input matInput name="name" required [(ngModel)]="this.tourData.name">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Description</mat-label>
      <textarea matInput name="description" required [(ngModel)]="this.tourData.description"></textarea>
    </mat-form-field>

    <mat-form-field>
        <mat-label>Location</mat-label>
      <input matInput name="location" required [(ngModel)]="this.tourData.location">
    </mat-form-field>

    <mat-form-field>
      <mat-label>URL photo</mat-label>
      <input matInput name="photo" required [(ngModel)]="this.tourData.photo">
    </mat-form-field>

    <div class="flex flex-row gap-5">
      <mat-form-field class="w-48">
        <mat-label>Price</mat-label>
        <input matInput type="number" name="price" required [(ngModel)]="this.tourData.price">
      </mat-form-field>

      <mat-form-field class="w-48">
        <mat-label>New price</mat-label>
        <input matInput type="number" name="newPrice" [(ngModel)]="this.tourData.newPrice">
      </mat-form-field>
    </div>

    <div class="flex flex-row gap-5 items-center m-3">
      <div class="font-medium text-base mb-0">Activities to do</div>
      <button type="button" mat-icon-button (click)="addActivity()">
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <div *ngFor="let activity of activities; let i = index" class="flex flex-row gap-5">
      <mat-form-field>
        <mat-label>Title</mat-label>
        <input matInput name="title_{{i}}" [(ngModel)]="activity.name" required>
      </mat-form-field>
      <mat-form-field class="w-full">
        <mat-label>Description</mat-label>
        <input matInput name="description_{{i}}" [(ngModel)]="activity.description" required>
      </mat-form-field>
      <button type="button" mat-icon-button (click)="removeActivity(i)">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <button type="submit" mat-raised-button color="primary" class="w-24 mt-5" [disabled]="!tourForm.valid">Save</button>
  </form>
</mat-card>
